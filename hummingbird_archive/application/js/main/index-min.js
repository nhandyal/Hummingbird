function initializePage(){var e=$("#settings-toggle").position();var t={top:e.top+30,left:e.left-161};$("#settings").css(t);$(".course-header").each(function(){var e=$(this).html();var t=e.length;var n=200/t;var r="";for(var i=0;i<t;i++){r+="<span style='width:"+n+"px; display:inline-block'>"+e.charAt(i)+"</span>"}$(this).html(r)});setCourseDataInitial()}function scrollSlider(){if($(".scroll-first").length!=0){var e=-$(".scroll-first").position().top;$("#course-slider-container").animate({top:e},750,function(){})}}function setCourseDataInitial(){var e=$(".scroll-first");var t=0;do{var n="#course-content-"+t+" .course-content";var r="#"+$(e).find(".course-data-id").val();$(n).html($(r).html());e=$(e).next();t++}while($(e).exists()&&t<4);for(var i=t;i<4;i++){$("#transition-element-"+i).css({opacity:0});$("#course-content-"+i).css({opacity:0})}}function setCourseData(){$(".course-content").animate({opacity:0},250,function(){var e=$(".scroll-first");var t=0;do{var n="#course-content-"+t+" .course-content";var r="#"+$(e).find(".course-data-id").val();$(n).html($(r).html());e=$(e).next();t++}while($(e).exists()&&t<4);for(var i=0;i<4;i++){if(i<t){$("#transition-element-"+i).animate({opacity:1},250);$("#course-content-"+i).animate({opacity:1},250);$("#course-content-"+i+" .course-content").animate({opacity:1},250)}else{$("#transition-element-"+i).animate({opacity:0},250);$("#course-content-"+i).animate({opacity:0},250)}}})}function scrollDown(){var e=$(".scroll-first").next().next().next().next();if($(e).exists()){e=$(e).prev();$(".scroll-first").removeClass("scroll-first");$(e).addClass("scroll-first");scrollSlider();setCourseData()}}function scrollUp(){var e=$(".scroll-first").prev().prev().prev();if($(e).exists()){$(".scroll-first").removeClass("scroll-first");$(e).addClass("scroll-first");scrollSlider();setCourseData()}}function confirmDeleteCourse(e,t,n,r,i){var s="deleteCourse('"+e+"','"+t+"','"+n+"','"+r+"')";var o="<div style='width:400px; height:100px'><div style='text-align:center'>You sure you want to delete this class bro?</div>";o+="<table style='width:75%; margin:auto; text-align:center'><tr id='fancybox-table-header'>";o+="<td>Course</td>";o+="<td>Type</td>";o+="<td>Section</td>";o+="</tr><tr style='font-size:12px'>";o+="<td>"+n+"</td>";o+="<td>"+i+"</td>";o+="<td>"+r+"</td>";o+="</tr><tr>";o+="<td colspan='3' id='fancybox-button-container'><div id='fancybox-button' class='unselectable' style='margin-top:5px' onclick=\""+s+'">Delete Class</div></td>';o+="</tr></table></div>";$.fancybox({content:o,overlayOpacity:.7})}function deleteCourse(e,t,n,r){var i="<div style='width:400px'><div style='width:50px; margin:auto'><img src='../images/loading.gif' width='50' height='50' style='opacity:0.3'/></div></div>";$.fancybox({content:i,overlayOpacity:.7});$.get("removeCourse.php",{email:e,term:t,deptAbbreviation:n,sectionNumber:r},function(e){var t=JSON.parse(e);if(t.status==0){window.location.reload()}else{var n="<div style='font-size:14px; text-align:center; width:400px'>Uhoh, looks like we're experiencing some technical difficulties. Please try again later.</div>";$.fancybox({content:n,overlayOpacity:.7})}})}function loadDepartments(){var e=$("#selected-term-number").val();$.get("addClassFunctions/loadDepartments.php",{term:e},function(e){$("#department-data-container").html(e).css({display:"inline-block"});$("#department-search").removeAttr("readonly");$("#ui-dept-select li").click(function(){$("#selected-department").val($(this).attr("id"));loadCourses(this)})})}function loadCourses(e){$(".ui-dept-selected").removeClass("ui-dept-selected");$(e).addClass("ui-dept-selected");$("#section-data-container").html("");$("#course-data-container").html($("#hidden-loading-gif").html());var t=$("#selected-term-number").val();var n=$(e).attr("id").toLowerCase();$.get("addClassFunctions/loadCourses.php",{term:t,dept:n},function(e){var t=JSON.parse(e);$("#select-course-container").css({opacity:1});$("#course-data-container").html(t.listData).css({display:"inline-block"});$("#course-search").removeAttr("readonly");$("#hidden-section-data").html(t.sectionData);$("#ui-course-select li").click(function(){displayCourseData(this)})})}function displayCourseData(e){$(".ui-course-selected").removeClass("ui-course-selected");$(e).addClass("ui-course-selected");var t=$(e).attr("id")+"-data";$("#section-data-container").html($("#"+t).html()).css({display:"block"})}function confirmCourseAdd(e){var t=$(e).children(".course-index").val();var n=$(e).children(".section-index").val();var r=$(e).children("div");var i=$(r).children(".data-sectionNumber").text();var s=$(r).children(".data-type").text();var o=$(r).children(".data-time").text();var u=$(r).children(".data-days").text();var a=$(r).children(".data-instructor").text();var f="<table id='fancybox-addCourse-table'>";f+="<tr><td colspan='5' id='fancybox-table-description'>You sure bro?</td></tr>";f+="<tr id='fancybox-table-header'>";f+="<td>Section</td>";f+="<td>Type</td>";f+="<td>Time</td>";f+="<td>Days</td>";f+="<td>Instructor</td>";f+="</tr><tr>";f+="<td>"+i+"</td>";f+="<td>"+s+"</td>";f+="<td>"+o+"</td>";f+="<td>"+u+"</td>";f+="<td>"+a+"</td>";f+="</tr><tr>";f+="<td colspan='5' id='fancybox-button-container'><div id='fancybox-button' class='unselectable' onclick='addCourse()'>ADD CLASS";f+="<input type='hidden' id='fancybox-courseIndex' value='"+t+"'/>";f+="<input type='hidden' id='fancybox-sectionIndex' value='"+n+"'/></div></td>";f+="</tr></table>";$.fancybox({content:f,overlayOpacity:.7})}function addCourse(){var e="<div style='width:400px'><div style='width:50px; margin:auto'><img src='../images/loading.gif' width='50' height='50' style='opacity:0.3'/></div></div>";$.fancybox({content:e,overlayOpacity:.7});$.get("addClassFunctions/addClass.php",{courseIndex:$("#fancybox-courseIndex").val(),sectionIndex:$("#fancybox-sectionIndex").val(),term:$("#selected-term-number").val(),dept:$("#selected-department").val()},function(e){var t=JSON.parse(e);if(t.status==0){$.fancybox.close();window.location.reload()}else{var n="<div style='font-size:14px; text-align:center; width:400px'>"+t.message+"</div>";$.fancybox({content:n,overlayOpacity:.7})}})}$.fn.exists=function(){return this.length!==0};jQuery.expr[":"].contains=function(e,t,n){return jQuery(e).text().toUpperCase().indexOf(n[3].toUpperCase())>=0};$(document).ready(function(){initializePage();$("#ui-controls-fbCollapse").click(function(){$("#fb-like").animate({height:0},450,function(){})});$("#settings-toggle").click(function(){if($(".settings-visible").length==0){$("#settings").css("display","inline-block");$("#settings-toggle").addClass("settings-visible")}else{$("#settings").css("display","none");$("#settings-toggle").removeClass("settings-visible")}});$("#header-title").click(function(){if($(".add-class-visible").length==0){if($("#welcome-wrapper").length!=0){$("#welcome-wrapper").fadeOut(350,function(){$("#hummingbird-logo").css({display:"block"});$("#welcome-wrapper").remove()})}$("#add-class-container").animate({height:600},500,function(){$("#header-title").addClass("add-class-visible")});$("#hummingbird-logo").animate({"padding-left":150},500,function(){});$("#black-overlay").fadeIn(500)}else{$("#add-class-container").animate({height:0},500,function(){$("#header-title").removeClass("add-class-visible")});$("#hummingbird-logo").animate({"padding-left":0},500,function(){});$("#black-overlay").fadeOut(500)}});$("#close-add-container").click(function(){$("#add-class-container").animate({height:0},500,function(){$("#header-title").removeClass("add-class-visible")});$("#hummingbird-logo").animate({"padding-left":0},500,function(){});$("#black-overlay").fadeOut(500);return false});$("#select-term-container").click(function(){if($(".term-container-visible").length==0){var e=$("#select-term-container").position();var t={top:e.top,left:e.left,display:"inline-block"};$("#term-container").css(t).addClass("term-container-visible")}else{$("#term-container").css({display:"none"}).removeClass("term-container-visible")}});$("#ui-term-select li").click(function(){$("#selected-term").html($(this).html());$("#term-container").css({display:"none"}).removeClass("term-container-visible");$("#selected-term-number").val($(this).attr("id"));$("#course-data-container").html("");$("#section-data-container").html("");$("#course-search").attr("readonly","readonly");$("#department-data-container").html($("#hidden-loading-gif").html());loadDepartments()});$("#department-search").keyup(function(){if($("#department-search").val()!=$("#department-search-preVal").val()){var e=$("#department-search").val();$("#department-search-preVal").val(e);if(e!=""){$('#ui-dept-select li:not(:contains("'+e+'"))').css({display:"none"});$('#ui-dept-select li:contains("'+e+'")').css({display:"block"})}else{$("#ui-dept-select li").css({display:"block"})}}});$("#course-search").keyup(function(){if($("#course-search").val()!=$("#course-search-preVal").val()){var e=$("#course-search").val();$("#course-search-preVal").val(e);if(e!=""){$('#ui-course-select li:not(:contains("'+e+'"))').css({display:"none"});$('#ui-course-select li:contains("'+e+'")').css({display:"block"})}else{$("#ui-course-select li").css({display:"block"})}}})})