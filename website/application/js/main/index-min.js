function initializePage(){var a=$("#settings-toggle").position();var b={top:a.top+30,left:a.left-161};$("#settings").css(b);$(".course-header").each(function(){var a=$(this).html();var b=a.length;var c=200/b;var d="";for(var e=0;e<b;e++){d+="<span style='width:"+c+"px; display:inline-block'>"+a.charAt(e)+"</span>"}$(this).html(d)});setCourseDataInitial()}function scrollSlider(){if($(".scroll-first").length!=0){var a=-$(".scroll-first").position().top;$("#course-slider-container").animate({top:a},750,function(){})}}function setCourseDataInitial(){var a=$(".scroll-first");var b=0;do{var c="#course-content-"+b+" .course-content";var d="#"+$(a).find(".course-data-id").val();$(c).html($(d).html());a=$(a).next();b++}while($(a).exists()&&b<4);for(var e=b;e<4;e++){$("#transition-element-"+e).css({opacity:0});$("#course-content-"+e).css({opacity:0})}}function setCourseData(){$(".course-content").animate({opacity:0},250,function(){var a=$(".scroll-first");var b=0;do{var c="#course-content-"+b+" .course-content";var d="#"+$(a).find(".course-data-id").val();$(c).html($(d).html());a=$(a).next();b++}while($(a).exists()&&b<4);for(var e=0;e<4;e++){if(e<b){$("#transition-element-"+e).animate({opacity:1},250);$("#course-content-"+e).animate({opacity:1},250);$("#course-content-"+e+" .course-content").animate({opacity:1},250)}else{$("#transition-element-"+e).animate({opacity:0},250);$("#course-content-"+e).animate({opacity:0},250)}}})}function scrollDown(){var a=$(".scroll-first").next().next().next().next();if($(a).exists()){a=$(a).prev();$(".scroll-first").removeClass("scroll-first");$(a).addClass("scroll-first");scrollSlider();setCourseData()}}function scrollUp(){var a=$(".scroll-first").prev().prev().prev();if($(a).exists()){$(".scroll-first").removeClass("scroll-first");$(a).addClass("scroll-first");scrollSlider();setCourseData()}}function confirmDeleteCourse(a,b,c,d,e){var f="deleteCourse('"+a+"','"+b+"','"+c+"','"+d+"')";var g="<div style='width:400px; height:100px'><div style='text-align:center'>You sure you want to delete this class bro?</div>";g+="<table style='width:75%; margin:auto; text-align:center'><tr id='fancybox-table-header'>";g+="<td>Course</td>";g+="<td>Type</td>";g+="<td>Section</td>";g+="</tr><tr style='font-size:12px'>";g+="<td>"+c+"</td>";g+="<td>"+e+"</td>";g+="<td>"+d+"</td>";g+="</tr><tr>";g+="<td colspan='3' id='fancybox-button-container'><div id='fancybox-button' class='unselectable' style='margin-top:5px' onclick=\""+f+'">Delete Class</div></td>';g+="</tr></table></div>";$.fancybox({content:g,overlayOpacity:.7})}function deleteCourse(a,b,c,d){var e="<div style='width:400px'><div style='width:50px; margin:auto'><img src='../images/loading.gif' width='50' height='50' style='opacity:0.3'/></div></div>";$.fancybox({content:e,overlayOpacity:.7});$.get("removeCourse.php",{email:a,term:b,deptAbbreviation:c,sectionNumber:d},function(a){var b=JSON.parse(a);if(b.status==0){window.location.reload()}else{var c="<div style='font-size:14px; text-align:center; width:400px'>Uhoh, looks like we're experiencing some technical difficulties. Please try again later.</div>";$.fancybox({content:c,overlayOpacity:.7})}})}function loadDepartments(){var a=$("#selected-term-number").val();$.get("addClassFunctions/loadDepartments.php",{term:a},function(a){$("#department-data-container").html(a).css({display:"inline-block"});$("#department-search").removeAttr("readonly");$("#ui-dept-select li").click(function(){$("#selected-department").val($(this).attr("id"));loadCourses(this)})})}function loadCourses(a){$(".ui-dept-selected").removeClass("ui-dept-selected");$(a).addClass("ui-dept-selected");$("#section-data-container").html("");$("#course-data-container").html($("#hidden-loading-gif").html());var b=$("#selected-term-number").val();var c=$(a).attr("id").toLowerCase();$.get("addClassFunctions/loadCourses.php",{term:b,dept:c},function(a){var b=JSON.parse(a);$("#select-course-container").css({opacity:1});$("#course-data-container").html(b.listData).css({display:"inline-block"});$("#course-search").removeAttr("readonly");$("#hidden-section-data").html(b.sectionData);$("#ui-course-select li").click(function(){displayCourseData(this)})})}function displayCourseData(a){$(".ui-course-selected").removeClass("ui-course-selected");$(a).addClass("ui-course-selected");var b=$(a).attr("id")+"-data";$("#section-data-container").html($("#"+b).html()).css({display:"block"})}function confirmCourseAdd(a){var b=$(a).children(".course-index").val();var c=$(a).children(".section-index").val();var d=$(a).children("div");var e=$(d).children(".data-sectionNumber").text();var f=$(d).children(".data-type").text();var g=$(d).children(".data-time").text();var h=$(d).children(".data-days").text();var i=$(d).children(".data-instructor").text();var j="<table id='fancybox-addCourse-table'>";j+="<tr><td colspan='5' id='fancybox-table-description'>You sure bro?</td></tr>";j+="<tr id='fancybox-table-header'>";j+="<td>Section</td>";j+="<td>Type</td>";j+="<td>Time</td>";j+="<td>Days</td>";j+="<td>Instructor</td>";j+="</tr><tr>";j+="<td>"+e+"</td>";j+="<td>"+f+"</td>";j+="<td>"+g+"</td>";j+="<td>"+h+"</td>";j+="<td>"+i+"</td>";j+="</tr><tr>";j+="<td colspan='5' id='fancybox-button-container'><div id='fancybox-button' class='unselectable' onclick='addCourse()'>ADD CLASS";j+="<input type='hidden' id='fancybox-courseIndex' value='"+b+"'/>";j+="<input type='hidden' id='fancybox-sectionIndex' value='"+c+"'/></div></td>";j+="</tr></table>";$.fancybox({content:j,overlayOpacity:.7})}function addCourse(){var a="<div style='width:400px'><div style='width:50px; margin:auto'><img src='../images/loading.gif' width='50' height='50' style='opacity:0.3'/></div></div>";$.fancybox({content:a,overlayOpacity:.7});$.get("addClassFunctions/addClass.php",{courseIndex:$("#fancybox-courseIndex").val(),sectionIndex:$("#fancybox-sectionIndex").val(),term:$("#selected-term-number").val(),dept:$("#selected-department").val()},function(a){var b=JSON.parse(a);if(b.status==0){$.fancybox.close();window.location.reload()}else{var c="<div style='font-size:14px; text-align:center; width:400px'>"+b.message+"</div>";$.fancybox({content:c,overlayOpacity:.7})}})}$.fn.exists=function(){return this.length!==0};jQuery.expr[":"].contains=function(a,b,c){return jQuery(a).text().toUpperCase().indexOf(c[3].toUpperCase())>=0};$(document).ready(function(){initializePage();$("#settings-toggle").click(function(){if($(".settings-visible").length==0){$("#settings").css("display","inline-block");$("#settings-toggle").addClass("settings-visible")}else{$("#settings").css("display","none");$("#settings-toggle").removeClass("settings-visible")}});$("#header-title").click(function(){if($(".add-class-visible").length==0){if($("#welcome-wrapper").length!=0){$("#welcome-wrapper").fadeOut(350,function(){$("#hummingbird-logo").css({display:"block"});$("#welcome-wrapper").remove()})}$("#add-class-container").animate({height:600},500,function(){$("#header-title").addClass("add-class-visible")});$("#hummingbird-logo").animate({"padding-left":150},500,function(){});$("#black-overlay").fadeIn(500)}else{$("#add-class-container").animate({height:0},500,function(){$("#header-title").removeClass("add-class-visible")});$("#hummingbird-logo").animate({"padding-left":0},500,function(){});$("#black-overlay").fadeOut(500)}});$("#close-add-container").click(function(){$("#add-class-container").animate({height:0},500,function(){$("#header-title").removeClass("add-class-visible")});$("#hummingbird-logo").animate({"padding-left":0},500,function(){});$("#black-overlay").fadeOut(500);return false});$("#select-term-container").click(function(){if($(".term-container-visible").length==0){var a=$("#select-term-container").position();var b={top:a.top,left:a.left,display:"inline-block"};$("#term-container").css(b).addClass("term-container-visible")}else{$("#term-container").css({display:"none"}).removeClass("term-container-visible")}});$("#ui-term-select li").click(function(){$("#selected-term").html($(this).html());$("#term-container").css({display:"none"}).removeClass("term-container-visible");$("#selected-term-number").val($(this).attr("id"));$("#course-data-container").html("");$("#section-data-container").html("");$("#course-search").attr("readonly","readonly");$("#department-data-container").html($("#hidden-loading-gif").html());loadDepartments()});$("#department-search").keyup(function(){if($("#department-search").val()!=$("#department-search-preVal").val()){var a=$("#department-search").val();$("#department-search-preVal").val(a);if(a!=""){$('#ui-dept-select li:not(:contains("'+a+'"))').css({display:"none"});$('#ui-dept-select li:contains("'+a+'")').css({display:"block"})}else{$("#ui-dept-select li").css({display:"block"})}}});$("#course-search").keyup(function(){if($("#course-search").val()!=$("#course-search-preVal").val()){var a=$("#course-search").val();$("#course-search-preVal").val(a);if(a!=""){$('#ui-course-select li:not(:contains("'+a+'"))').css({display:"none"});$('#ui-course-select li:contains("'+a+'")').css({display:"block"})}else{$("#ui-course-select li").css({display:"block"})}}})})